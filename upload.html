<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>추천 영상 등록</title>
  <link rel="stylesheet" href="css/style.css"/>
  <!-- oEmbed/Firebase 통신을 위한 CSP 예시 (필요 시만 사용) -->
  <meta http-equiv="Content-Security-Policy" content="
    default-src 'self';
    connect-src 'self' https://www.googleapis.com https://firestore.googleapis.com https://securetoken.googleapis.com https://identitytoolkit.googleapis.com https://firebaseinstallations.googleapis.com https://www.gstatic.com https://www.youtube.com;
    img-src 'self' data: https://i.ytimg.com;
    script-src 'self' https://www.gstatic.com 'unsafe-inline';
    style-src 'self' 'unsafe-inline';
    frame-src https://www.youtube.com;
    object-src 'none';
    base-uri 'self';
  ">
  <style>
    main{ max-width:860px; margin:20px auto; padding:0 12px; }
    .panel{ border:1px solid var(--border); background:#101010; border-radius:12px; padding:12px; }
    .row{ display:grid; gap:8px; grid-template-columns: 1fr auto; align-items:start; }
    textarea{ width:100%; min-height:140px; resize:vertical; }
    .chips{ display:flex; gap:6px; flex-wrap:wrap; }
    .chip{ border:1px solid #2a2a2a; border-radius:999px; padding:2px 8px; }
    .actions{ display:flex; gap:8px; justify-content:flex-end; }
    .btn{ padding:10px 12px; border:1px solid #2a2a2a; border-radius:10px; background:#151515; color:#fff; cursor:pointer; }
    .btn-primary{ background:#4ea1ff; border:0; font-weight:800; }
    .msg{ margin:10px 0; color:#ccc; min-height:1.2em; }
  </style>
</head>
<body>
  <header id="topbar">
    <div class="brand">
      <a href="./" aria-label="CopyTube 홈으로"><img class="brand-logo" src="image/copytube_logo_side.png" alt="CopyTube"/></a>
    </div>
    <div class="right">
      <a id="signupLink" class="link" href="signup.html">Sign up</a>
      <a id="signinLink" class="link" href="signin.html">Sign in</a>
      <span id="welcome" class="welcome"></span>
    </div>
  </header>

  <main>
    <h2>추천 영상 등록</h2>
    <div id="msg" class="msg"></div>

    <section class="panel">
      <div class="row" style="grid-template-columns: 1fr;">
        <label for="urls"><b>URL들</b> (줄바꿈/쉼표 구분)</label>
        <textarea id="urls" placeholder="https://youtu.be/......&#10;https://www.youtube.com/watch?v=......"></textarea>
      </div>

      <div style="height:10px;"></div>

      <div>
        <b>카테고리 (최대 3개)</b>
        <div id="catList" class="chips"></div>
      </div>

      <div style="height:10px;"></div>

      <div class="actions">
        <button id="btnSubmit" class="btn btn-primary">등록</button>
      </div>
    </section>
  </main>

  <script type="module" src="js/firebase-init.js"></script>
  <script type="module" src="js/auth.js"></script>
  <script type="module" src="js/categories.js"></script>
  <script type="module" src="js/upload.js?v=1.3.3"></script>
</body>
</html>
