/* =========================================
   CopyTube v1.8.0 style.css (원본 유지 + 업그레이드)
   ========================================= */

/* ---------- CSS 변수 (원본) ---------- */
:root{
  --bg:#000; --bg-2:#111; --bg-3:#1b1b1b; --fg:#fff;
  --muted:#9aa0a6; --accent:#4ea1ff; --border:#333;
}

/* ---------- Reset / Base ---------- */
*{ box-sizing: border-box; }
html,body{ height:100%; }
body{
  margin:0;
  font-family: system-ui, Segoe UI, Apple SD Gothic Neo, Arial, sans-serif;
  background: var(--bg);
  color: var(--fg);
}
a{ color: inherit; text-decoration: none; }
button{ font-family: inherit; }

/* ---------- Topbar (공통 헤더) ---------- */
.topbar, #topbar{
  position: fixed; top:0; left:0; right:0;
  height:56px;
  background: var(--bg-2);
  border-bottom: 1px solid var(--border);
  display:flex; align-items:center; justify-content:space-between;
  padding: 0 12px;
  z-index:1000;
  transition: transform .25s ease;
}
#topbar.hide{ transform: translateY(-100%); }
.topbar .brand, #topbar .brand{ display:flex; align-items:center; gap:10px; }
.brand-logo{ height:48px; display:block; }
@media (max-width:420px){ .brand-logo{ height:40px; } }
.topbar .right, #topbar .right{ display:flex; align-items:center; gap:10px; }
.link{ color: var(--accent); font-size:14px; }
.welcome{ font-size:14px; color:#bbb; }

/* ---------- Dropdown ---------- */
.dropdown{
  position:absolute; top:100%; right:0;
  min-width:160px;
  background: var(--bg-2);
  border:1px solid var(--border);
  border-radius:10px;
  display:flex; flex-direction:column;
  z-index:1200;
  opacity:0; transform: translateY(-10px);
  transition: opacity .18s ease, transform .18s ease;
}
.dropdown.hidden{ display:none; }
.dropdown.show{ opacity:1; transform: translateY(0); }
.dropdown button{
  background:none; border:0; color: var(--fg);
  text-align:left; padding:10px 14px; cursor:pointer; font-size:14px; line-height:1.25;
}
.dropdown button:hover{ background: var(--bg-3); }
.dropdown .menu-strong{ font-weight:800; color: var(--accent); }

/* ---------- Intro / Sections (일부 페이지 공통) ---------- */
.intro{
  min-height: 100vh;
  display:flex; align-items:center; justify-content:center; text-align:center;
  padding:72px 24px 24px; /* 헤더 여백 포함 */
  background: var(--bg-2);
  border-bottom:1px solid var(--border);
}
.lead{ font-size:20px; color:#e6e6e6; margin:0 0 8px; }
.sublead{ font-size:14px; color: var(--muted); margin:0 0 16px; }

/* ---------- Form / Inputs ---------- */
input[type="text"], input[type="url"], input[type="email"], input[type="password"], textarea, select{
  background:#0b0b0b; color:#eee;
  border:1px solid var(--border);
  border-radius:10px; padding:10px 12px; font-size:14px;
}
input::placeholder, textarea::placeholder{ color:#7c7c85; }

/* ---------- Buttons ---------- */
.btn, .btn-primary{
  border:0; border-radius:10px;
  padding: 8px 14px;
  font-size:14px; font-weight:700;
  cursor:pointer;
}
.btn-primary{ background: var(--accent); color:#000; }
.btn:disabled, .btn-primary:disabled{ opacity:.5; cursor: default; }

/* ---------- Category Section ---------- */
#cats{
  margin-top: 64px;
  padding: 0 16px;
  display:grid; gap:12px;
}
.group{ border:1px solid var(--border); border-radius:12px; padding:8px 12px; background:#0b0b0b; }
.group legend{ font-weight:800; padding:0 4px; }
.group .group-toggle{ display:inline-flex; align-items:center; gap:8px; }
.child-grid{ display:grid; gap:6px; margin-top:6px; }
.note-local{ font-size:12px; color: var(--muted); margin-top: 4px; }

/* ---------- Watch: Fullscreen Column Snap (필요시) ---------- */
#videoContainer{
  height: 100svh;
  overflow-y: auto;
  scroll-snap-type: y mandatory;
  overscroll-behavior-y: contain;
  background:#000;
  -webkit-overflow-scrolling: touch;
}
.video{
  height: 100svh;
  scroll-snap-align: start;
  scroll-snap-stop: always;
  position:relative;
  display:flex; align-items:center; justify-content:center;
  background:#000;
}
.video iframe{ width:100%; height:100%; border:0; display:block; }
.thumb{ width:100%; height:100%; display:flex; align-items:center; justify-content:center; }
.thumb img{ max-width:100%; max-height:100%; object-fit:contain; }
.playhint, .mute-tip{
  position:absolute; left:50%; transform:translateX(-50%);
  padding:6px 10px; border-radius:8px; font-size:12px; color:#fff;
  background: rgba(0,0,0,.45);
}
.playhint{ bottom:14px; }
.mute-tip{ top:12px; }
.gesture-capture{ position:absolute; inset:0; z-index:20; background:transparent; cursor:pointer; }
.gesture-capture.hidden{ display:none; }

/* ---------- 기존 전환 애니메이션(:root 토글형) ---------- */
@keyframes pageSlideLeft { from{ transform:translateX(0); opacity:1; } to{ transform:translateX(-22%); opacity:.92; } }
@keyframes pageSlideRight{ from{ transform:translateX(0); opacity:1; } to{ transform:translateX(22%);  opacity:.92; } }
:root.slide-out-left  body{ animation: pageSlideLeft .26s ease forwards; }
:root.slide-out-right body{ animation: pageSlideRight .26s ease forwards; }
@media (prefers-reduced-motion: reduce){
  :root.slide-out-left body, :root.slide-out-right body{ animation: none; }
}

/* =========================================================
   1) 페이지 전환 애니메이션 유틸(클래스형) — 240ms, ease-out
   ========================================================= */
@keyframes slideInRight { from{ transform:translateX(14%); opacity:0; } to{ transform:translateX(0); opacity:1; } }
@keyframes slideInLeft  { from{ transform:translateX(-14%); opacity:0; } to{ transform:translateX(0); opacity:1; } }
@keyframes slideOutRight{ from{ transform:translateX(0); opacity:1; } to{ transform:translateX(22%); opacity:.92; } }
@keyframes slideOutLeft { from{ transform:translateX(0); opacity:1; } to{ transform:translateX(-22%); opacity:.92; } }

.slide-in-right { animation: slideInRight 240ms ease-out both;  will-change: transform, opacity; }
.slide-in-left  { animation: slideInLeft  240ms ease-out both;  will-change: transform, opacity; }
.slide-out-right{ animation: slideOutRight 240ms ease-out both; will-change: transform, opacity; }
.slide-out-left { animation: slideOutLeft 240ms ease-out both;  will-change: transform, opacity; }

@media (prefers-reduced-motion: reduce){
  .slide-in-right, .slide-in-left, .slide-out-right, .slide-out-left{ animation:none; }
}

/* =========================================================
   2) 목록 카드 2열 그리드 유틸
   ========================================================= */
.card-grid{
  display:grid;
  grid-template-columns: 1fr 160px; /* 왼쪽 정보 / 오른쪽 썸네일 */
  gap:10px; align-items:stretch;
}
.card-info{
  display:grid; grid-template-rows: auto auto auto; /* 제목 → URL → 칩 */
  gap:6px; min-width:0;
}
.card-title{
  font-weight:800; font-size:16px; line-height:1.25; color:#eee; overflow-wrap:anywhere;
}
.card-url{
  font-size:13px; color:#b0b0b0; overflow-wrap:anywhere;
}
.card-chips{ display:flex; flex-wrap:wrap; gap:6px; }
.card-thumb{
  width:100%; border-radius:10px; overflow:hidden; background:#000; aspect-ratio:16/9;
}
.card-thumb > img,
.card-thumb > picture,
.card-thumb > video{
  width:100%; height:100%; object-fit:cover; display:block;
}

/* =========================================================
   3) 칩 공통 스타일
   ========================================================= */
.chip{
  border:1px solid #2a2a2a;
  border-radius:999px;
  padding:2px 8px;
  font-size:12px; line-height:1.4;
  background:#0f0f0f; color:#dfe7ff;
}

/* =========================================================
   4) 반응형 & 렌더링 안정성
   ========================================================= */
@media (max-width:520px){
  .card-grid{ grid-template-columns: 1fr; }
  .card-thumb{ order:2; }
}
.card-grid, .card-info, .card-thumb{ will-change: transform; }
